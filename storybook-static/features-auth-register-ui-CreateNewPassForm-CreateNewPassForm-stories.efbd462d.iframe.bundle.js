(self.webpackChunkinctagram_blazing_bonfires=self.webpackChunkinctagram_blazing_bonfires||[]).push([[781],{"./src/features/auth-register/ui/CreateNewPassForm/CreateNewPassForm.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _Default$parameters,_Default$parameters2,C_Users_Ramon_Documents_Stydieng_the_React_Learning_in_itInkubator_inctagram_inctagram_blazing_bonfires_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,C_Users_Ramon_Documents_Stydieng_the_React_Learning_in_itInkubator_inctagram_inctagram_blazing_bonfires_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const __WEBPACK_DEFAULT_EXPORT__={title:"Components/CreateNewPassword",component:__webpack_require__("./src/features/auth-register/ui/CreateNewPassForm/CreateNewPassForm.tsx").q,parameters:{layout:"centered"},tags:["autodocs"]};var Default={args:{password:"",passwordConfirmation:""}};Default.parameters=_objectSpread(_objectSpread({},Default.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:_objectSpread({originalSource:"{\n  args: {\n    password: '',\n    passwordConfirmation: ''\n  }\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2=_Default$parameters2.docs)||void 0===_Default$parameters2?void 0:_Default$parameters2.source)})})},"./src/features/auth-register/ui/CreateNewPassForm/CreateNewPassForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>CreateNewPassForm});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),yup=__webpack_require__("./node_modules/@hookform/resolvers/yup/dist/yup.mjs"),next_router=__webpack_require__("./node_modules/next/router.js"),esm=__webpack_require__("./node_modules/next-i18next/dist/esm/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),yup_index_esm=__webpack_require__("./node_modules/yup/index.esm.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),CreateNewPassForm_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[4]!./src/features/auth-register/ui/CreateNewPassForm/CreateNewPassForm.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(CreateNewPassForm_module.Z,options);const CreateNewPassForm_CreateNewPassForm_module=CreateNewPassForm_module.Z&&CreateNewPassForm_module.Z.locals?CreateNewPassForm_module.Z.locals:void 0;var auth_api=__webpack_require__("./src/shared/api/services/auth/auth.api.ts"),Button=__webpack_require__("./src/shared/ui/Button/Button.tsx"),FormContainer=__webpack_require__("./src/shared/ui/FormContainer/FormContainer.tsx"),Input=__webpack_require__("./src/shared/ui/Input/Input.tsx"),Input_module=__webpack_require__("./src/shared/ui/Input/Input.module.scss"),LinearLoader=__webpack_require__("./src/shared/ui/Loaders/LinearLoader.tsx"),__jsx=react.createElement;function CreateNewPassForm(){var _errors$newPassword,_errors$newPasswordCo,_useCreateNewPassword=(0,auth_api.VN)(),_useCreateNewPassword2=(0,slicedToArray.Z)(_useCreateNewPassword,2),createNewPassword=_useCreateNewPassword2[0],isLoading=_useCreateNewPassword2[1].isLoading,t=(0,esm.$G)("common",{keyPrefix:"Auth"}).t,tError=(0,esm.$G)("common",{keyPrefix:"Error"}).t,_useState=(0,react.useState)(""),codeRecovery=_useState[0],setCodeRecovery=_useState[1],router=(0,next_router.useRouter)(),code=router.query.code;(0,react.useEffect)((function(){code&&setCodeRecovery(code)}),[code]);var schema=yup_index_esm.Ry().shape({newPassword:yup_index_esm.Z_().min(6,tError("MinCharactrers6")).max(20,tError("MaxCharactrers20")).matches(/^[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]*$/,tError("PasswordValidationError")).required(tError("RequiredField")),newPasswordConfirmation:yup_index_esm.Z_().required(tError("RequiredField"))}),_useForm=(0,index_esm.cI)({mode:"onTouched",resolver:(0,yup.X)(schema),defaultValues:{newPassword:"",newPasswordConfirmation:""}}),watch=_useForm.watch,register=_useForm.register,handleSubmit=_useForm.handleSubmit,setError=_useForm.setError,errors=_useForm.formState.errors,reset=_useForm.reset,password=watch("newPassword","");return __jsx(react.Fragment,null,isLoading&&__jsx(LinearLoader.j,null),__jsx(FormContainer.Z,{title:t("CreateNewPassword")},__jsx("form",{onSubmit:handleSubmit((function onSubmit(data){if(!data)throw new Error("data is undefined");data.recoveryCode=codeRecovery,createNewPassword(data).unwrap().then((function(){reset(),router.push("/sign-in")})).catch((function(error){"newPassword"===error.data.messages[0].field&&setError("newPassword",{type:"manual",message:error.data.messages[0].message})}))})),className:CreateNewPassForm_CreateNewPassForm_module.formContainer},__jsx(Input.I,(0,esm_extends.Z)({},register("newPassword"),{label:t("Password"),type:Input.n.PASSWORD,placeholder:t("EnterPassword"),className:Input_module.Z.input,error:errors.newPassword&&(null===(_errors$newPassword=errors.newPassword)||void 0===_errors$newPassword?void 0:_errors$newPassword.message)})),__jsx(Input.I,(0,esm_extends.Z)({},register("newPasswordConfirmation",{validate:{value:function value(_value){return _value===password||t("PasswordDoNotmatch")}}}),{label:t("PasswordConfirmation"),type:Input.n.PASSWORD,placeholder:t("EnterPasswordConfirmation"),className:Input_module.Z.input,error:errors.newPasswordConfirmation&&(null===(_errors$newPasswordCo=errors.newPasswordConfirmation)||void 0===_errors$newPasswordCo?void 0:_errors$newPasswordCo.message)})),__jsx(Button.zx,{size:Button.qE.STRETCHED,className:CreateNewPassForm_CreateNewPassForm_module.sendLinkBtn},t("CreateNewPassword")))))}CreateNewPassForm.__docgenInfo={description:"",methods:[],displayName:"CreateNewPassForm"}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[4]!./src/features/auth-register/ui/CreateNewPassForm/CreateNewPassForm.module.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.CreateNewPassForm_formContainer__h3Sbi{display:flex;gap:1.5rem;flex-direction:column;align-items:center;width:100%}.CreateNewPassForm_createPassHelpText___Ul50{color:var(--color-light-1000);font-size:var(--font-size-s);margin-top:-1rem}.CreateNewPassForm_enterEmail__utg61{margin-top:.875rem}.CreateNewPassForm_sendLinkBtn__M6d8p{margin:1rem 0 .75rem}.CreateNewPassForm_oppositeBtn__y63iq{border:none !important}.CreateNewPassForm_capchaContainer__MVdpt{display:flex;justify-content:space-between;width:calc(100% - 30px);height:5.25rem;padding:.875rem 1.25rem;border:solid 1px #333;border-radius:2px;align-items:center}.CreateNewPassForm_capchaContainer__MVdpt input{position:relative;top:2px;left:3px;margin:0;margin-right:1.2rem;transform:scale(1.5)}.CreateNewPassForm_capchaContainer__MVdpt label{font-family:"Roboto",sans-serif;font-weight:var(--font-weight-medium);font-size:var(--font-size-xs)}.CreateNewPassForm_capchaIcon__IebjB{display:flex;flex-direction:column;align-items:center}.CreateNewPassForm_capchaIcon__IebjB p{margin:0;margin-top:7px;font-family:"Roboto",sans-serif;font-weight:var(--font-weight-medium);font-size:8px;line-height:10px}.CreateNewPassForm_capchaIcon__IebjB span{font-family:"Roboto",sans-serif;font-weight:var(--font-weight-medium);font-size:6px;line-height:8px}',"",{version:3,sources:["webpack://./src/features/auth-register/ui/CreateNewPassForm/CreateNewPassForm.module.scss"],names:[],mappings:"AAAA,wCACE,YAAA,CACA,UAAA,CACA,qBAAA,CACA,kBAAA,CACA,UAAA,CAGF,6CACE,6BAAA,CACA,4BAAA,CACA,gBAAA,CAEF,qCACE,kBAAA,CAGF,sCACE,oBAAA,CAEF,sCACE,sBAAA,CAEF,0CACE,YAAA,CACA,6BAAA,CACA,uBAAA,CACA,cAAA,CACA,uBAAA,CAEA,qBAAA,CACA,iBAAA,CACA,kBAAA,CAEA,gDACE,iBAAA,CACA,OAAA,CACA,QAAA,CACA,QAAA,CACA,mBAAA,CACA,oBAAA,CAEF,gDACE,+BAAA,CACA,qCAAA,CACA,6BAAA,CAGJ,qCACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAEA,uCACE,QAAA,CACA,cAAA,CACA,+BAAA,CACA,qCAAA,CACA,aAAA,CACA,gBAAA,CAEF,0CACE,+BAAA,CACA,qCAAA,CACA,aAAA,CACA,eAAA",sourcesContent:[".formContainer {\r\n  display: flex;\r\n  gap: 1.5rem;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.createPassHelpText {\r\n  color: var(--color-light-1000);\r\n  font-size: var(--font-size-s);\r\n  margin-top: -1rem;\r\n}\r\n.enterEmail {\r\n  margin-top: 0.875rem;\r\n}\r\n\r\n.sendLinkBtn {\r\n  margin: 1rem 0 0.75rem;\r\n}\r\n.oppositeBtn {\r\n  border: none !important;\r\n}\r\n.capchaContainer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: calc(100% - 30px);\r\n  height: 5.25rem;\r\n  padding: 0.875rem 1.25rem;\r\n\r\n  border: solid 1px #333333;\r\n  border-radius: 2px;\r\n  align-items: center;\r\n\r\n  input {\r\n    position: relative;\r\n    top: 2px;\r\n    left: 3px;\r\n    margin: 0;\r\n    margin-right: 1.2rem;\r\n    transform: scale(1.5);\r\n  }\r\n  label {\r\n    font-family: 'Roboto', sans-serif;\r\n    font-weight: var(--font-weight-medium);\r\n    font-size: var(--font-size-xs);\r\n  }\r\n}\r\n.capchaIcon {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  p {\r\n    margin: 0;\r\n    margin-top: 7px;\r\n    font-family: 'Roboto', sans-serif;\r\n    font-weight: var(--font-weight-medium);\r\n    font-size: 8px;\r\n    line-height: 10px;\r\n  }\r\n  span {\r\n    font-family: 'Roboto', sans-serif;\r\n    font-weight: var(--font-weight-medium);\r\n    font-size: 6px;\r\n    line-height: 8px;\r\n  }\r\n}\r\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={formContainer:"CreateNewPassForm_formContainer__h3Sbi",createPassHelpText:"CreateNewPassForm_createPassHelpText___Ul50",enterEmail:"CreateNewPassForm_enterEmail__utg61",sendLinkBtn:"CreateNewPassForm_sendLinkBtn__M6d8p",oppositeBtn:"CreateNewPassForm_oppositeBtn__y63iq",capchaContainer:"CreateNewPassForm_capchaContainer__MVdpt",capchaIcon:"CreateNewPassForm_capchaIcon__IebjB"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"?c969":()=>{},"?3e83":()=>{},"?19e6":()=>{}}]);